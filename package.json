{
    "name": "express-dir-route",
    "version": "1.0.5",
    "description": "a plugin for express.register routes base on file path",
    "main": "index.js",
    "directories": {
        "test": "test"
    },
    "scripts": {
        "test": "echo \"Error: no test specified\" && exit 1"
    },
    "repository": {
        "type": "git",
        "url": "git+https://github.com/Char-Ten/express-dir-route.git"
    },
    "author": {
        "name": "Charten"
    },
    "license": "ISC",
    "bugs": {
        "url": "https://github.com/Char-Ten/express-dir-route/issues"
    },
    "homepage": "https://github.com/Char-Ten/express-dir-route#readme",
    "readme": "[中文](./README_zh.md)  \r\nThis is a simple and small plugin for express.  \r\nIt's used to register routes base on files path. \r\n\r\n## express-dir-route\r\n---\r\n### Quick usage:\r\n* `npm install express-dir-route`\r\n* in file */app.js*:\r\n  ```javascript\r\n    var autoDirRoute=require('express-dir-route');\r\n    var app=require('express')();\r\n\r\n    autoDirRoute({\r\n        'app': app,//express instance \r\n        'dir': path.join(__dirname, 'routes'),//the directory where the routes file is\r\n        'rename': 'api/v1'//set some strings before the routes's url\r\n    })\r\n  ```\r\n  \r\n* in file */routes/list/article/GET.js*:\r\n  ```javascript\r\n    module.exports={\r\n        info:{\r\n            name:'list',\r\n            test:{\r\n                query:{\r\n                    testA:'1',\r\n                    testB:'2'\r\n                },\r\n                data:{\r\n                    testA:'this is a post data'\r\n                },\r\n                text:'you can write down something'\r\n            }\r\n        },\r\n        handle:function(req,res,next){\r\n            res.end(req.method+' '+req.url)// will respond  \"get /api/v1/list/article\"\r\n        }\r\n    }\r\n  ```\r\n\r\n* So you can create some directories in hte 'routes' directories.\r\nThen create the routes handle file and name it as the HTTP methods's name,such as:\r\n  ```\r\n    routes\r\n    |--list\r\n       |--article\r\n       |  |--GET.js\r\n       |  |--POST.js\r\n       |  |--DELETE.js\r\n       |  \r\n       |--friend\r\n          |--GET.js\r\n          |--POST.js\r\n  ```\r\n  They will be translated into:\r\n  ```http\r\n    GET '/api/v1/list/article';\r\n    GET '/api/v1/list/friend';\r\n    POST '/api/v1/list/article';\r\n    POST '/api/v1/list/friend';\r\n    DELETE '/api/v1/list/article';\r\n  ```\r\n\r\n* It's a plugin so that it never change any attribute and method of express.You also can register routes like that:\r\n  ```javascript\r\n    app.get('/',function(req,res,next){ res.end('homePage') }); \r\n    app.post('/',function(req,res,next){ res.end('post homePage') }) \r\n  ```\r\n\r\n---\r\n### Instructions\r\n* This plugin just using the express method:`app[method](route,handle)`and go through all the routes handle files whitch names are:`(GET|POST|PUT|PATCH|DELETE).js`\r\n* You can named file as '`~GET.js`' so that it will translated into '`/*`';\r\n* And the routes handle file must exports a Object:\r\n ```javascript \r\n \r\n  module.exports={\r\n      info:{},\r\n      handle:function(res,req,next){}\r\n  }\r\n  ``` \r\n  The data in attribute `info` will be rendered a routes document.\r\n\r\n---\r\n###  routes document\r\n* visit url  \r\n`/doc/auto-route-view`\r\n* method  \r\n`GET`\r\n* query<table>\r\n        <tr><th>name</th><th>type</th><th>info</th></tr>\r\n        <tr><td>type</td><td>String</td><td>\r\n            <p>'type' has two values:</p>\r\n            <p>One is 'nomal',will respond a simple array whitch include all information form routes handle files's attribute 'info'</p>\r\n            <p>Another one is 'tree',will respond a tree's like array</p>\r\n            <p>If it is null or other values,will respond the document's html data</p>    \r\n        </td></tr>\r\n  </table>\r\n* To render as a routes document.Plugin provide a data template:\r\n  ```javascript\r\n    info:{\r\n        //the route's name\r\n        name:'To get data',\r\n        \r\n        //summary of this route\r\n        summary:'this is a summary',\r\n        \r\n        //content\r\n        content:[\r\n            // a section\r\n            {\r\n                //section's title\r\n                title:'Query',\r\n                \r\n                //section's summary\r\n                summary:'this is query\\'s summary ',\r\n                \r\n                //section's warn\r\n                warn:'this is query\\'s warn',\r\n                \r\n                //create a table,one section just have one table\r\n                table:{\r\n                    thead:['th1','th2','th3'],\r\n                    tbody:[\r\n                        ['td1','td2','td3'],\r\n                        ['td1','td2','td3']\r\n                    ]\r\n                }\r\n            },\r\n            \r\n            // a section\r\n            {\r\n                //section's title\r\n                title:'Data',\r\n                \r\n                //section's summary\r\n                summary:'this is data\\'s summary ',\r\n                \r\n                //section's warn\r\n                warn:'this is data\\'s warn',\r\n                \r\n                //create a table,one section just have one table\r\n                table:{\r\n                    thead:['th1','th2','th3'],\r\n                    tbody:[\r\n                        ['td1','td2','td3'],\r\n                        ['td1','td2','td3']\r\n                    ]\r\n                }\r\n            },\r\n        ],\r\n\r\n        //provide data for test\r\n        test:{\r\n            //url's search\r\n            query:{},\r\n\r\n            //post form data\r\n            data:{},\r\n\r\n            // wirte down something about test \r\n            text:'',\r\n        }\r\n\r\n    }\r\n  ```\r\n",
    "readmeFilename": "README.md",
    "gitHead": "18b0712b2cef07192f9f102cae5cb6b01b2cb635",
    "_id": "express-dir-route@1.0.3",
    "_shasum": "6f555952a05016d862c3c09f18581a07130db712",
    "_from": "express-dir-route@1.0.3"
}